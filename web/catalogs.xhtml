<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Catalogs</title>
    </h:head>
    <h:body>
        <ui:composition>
            <h:form id="formPais" rendered="#{mainBean.catalog eq 'country' ? true : false}">
                <p:growl id="msgsCat" showDetail="true"/>
                <p:messages showDetail="true" closable="true"/>
                <p:panel  header="Countries catalog" id="panelPais">                    
                    <h:panelGrid columns="4" cellpadding="5px" >
                        <p:outputLabel for="nameCountry" value="Name:" />
                        <p:inputText id="nameCountry" required="true" value="#{catalogsBean.paisSelected.nombre}"/>

                        <p:outputLabel for="keyCountry" value="Short key:" />
                        <p:inputText id="keyCountry" required="true" maxlength="2" value="#{catalogsBean.paisSelected.claveCorta}">
                            <p:ajax event="valueChange" listener="#{catalogsBean.genCountryTableName}" update=":formPais:tableNameCountry"/>
                        </p:inputText>

                        <p:outputLabel for="statusCountry" value="Status:" />
                        <p:selectOneRadio id="statusCountry" layout="pageDirection" required="true" value="#{catalogsBean.paisSelected.idstatus}">
                            <f:selectItem itemLabel="Enable" itemValue="true" />
                            <f:selectItem itemLabel="Disable" itemValue="false" />                            
                        </p:selectOneRadio>

                        <p:outputLabel for="tableNameCountry" value="Table name:" />
                        <p:inputText id="tableNameCountry" required="true" maxlength="100" value="#{catalogsBean.paisSelected.nombreTabla}" readonly="true"/>
                        <f:facet name="footer">
                            <h:panelGrid columns="2" cellspacing="10px">
                                <p:commandButton value="Save" update="formPais" actionListener="#{catalogsBean.saveCountry}"/>
                                <p:commandButton value="New" update="formPais" actionListener="#{catalogsBean.newCountry}" rendered="#{catalogsBean.paisSelected.pkPais ne null ? true : false}"/>                            
                            </h:panelGrid>
                        </f:facet>
                    </h:panelGrid>
                    <p:separator/>
                    <h:panelGrid columns="1">
                        <p:dataTable id="tableCountry" var="country" value="#{catalogsBean.catPaises}" rowKey="#{country.pkPais}" selection="#{catalogsBean.paisSelectedTable}" selectionMode="single" paginator="true" rows="10">
                            <p:column headerText="Name">
                                <h:outputText value="#{country.nombre}"/>
                            </p:column>
                            <p:column headerText="Short key">
                                <h:outputText value="#{country.claveCorta}"/>
                            </p:column>                            
                            <p:column headerText="Table name">
                                <h:outputText value="#{country.nombreTabla}"/>
                            </p:column>
                            <p:column headerText="Status">
                                <h:outputText value="#{country.idstatus ? 'ENABLED' : 'DISABLED'}"/>
                            </p:column>
                            <p:ajax event="rowSelect" update=":formPais:panelPais" listener="#{catalogsBean.selectCountry}"/>
                        </p:dataTable>
                    </h:panelGrid>
                </p:panel>
            </h:form> 
            <h:form id="formGroupCategory" rendered="#{mainBean.catalog eq 'group' ? true : false}">
                <p:growl id="msgsGroupCate" showDetail="true" />
                <p:messages showDetail="true" closable="true"/>
                <p:panel  header="Group category catalog" id="panelGroupCate">                    
                    <h:panelGrid columns="2" cellpadding="5px" >
                        <p:outputLabel for="nameGroupCate" value="Name:" />
                        <p:inputText id="nameGroupCate" required="true" maxlength="20" value="#{catalogsBean.grupoCategoriaNew.grupoCategoria}"/>
                        
                        <p:outputLabel for="statusGroupCate" value="Status:" />
                        <p:selectOneRadio id="statusGroupCate" layout="pageDirection" required="true" value="#{catalogsBean.grupoCategoriaNew.status}">
                            <f:selectItem itemLabel="Enable" itemValue="true" />
                            <f:selectItem itemLabel="Disable" itemValue="false" />                            
                        </p:selectOneRadio>
                        <f:facet name="footer">
                            <h:panelGrid columns="2" cellspacing="10px">
                                <p:commandButton value="Save" update="formGroupCategory" actionListener="#{catalogsBean.saveGroupCategory}"/>
                                <p:commandButton value="New" update="formGroupCategory" actionListener="#{catalogsBean.newGroupCategory}" rendered="#{catalogsBean.grupoCategoriaNew.pkGrupoCategoria ne null ? true : false}"/>                            
                            </h:panelGrid>
                        </f:facet>
                    </h:panelGrid>
                    <p:separator/>
                    <h:panelGrid columns="1">
                        <p:dataTable id="tableGroupCategory" var="group" value="#{catalogsBean.catGrupoCategoriasAll}" rowKey="#{group.pkGrupoCategoria}" selection="#{catalogsBean.grupoCategoriaSelectedTable}" selectionMode="single" paginator="true" rows="10">
                            <p:column headerText="Group Name">
                                <h:outputText value="#{group.grupoCategoria}"/>
                            </p:column>                            
                            <p:column headerText="Status">
                                <h:outputText value="#{group.status ? 'ENABLED' : 'DISABLED'}"/>
                            </p:column> 
                            <p:ajax event="rowSelect" update=":formGroupCategory:panelGroupCate" listener="#{catalogsBean.selectGroupCategory}"/>
                        </p:dataTable>
                    </h:panelGrid>
                </p:panel>
            </h:form>             
            <h:form id="formCategory" rendered="#{mainBean.catalog eq 'category' ? true : false}">
                <p:growl id="msgsCatCate" showDetail="true"/>
                <p:messages showDetail="true" closable="true"/>
                <p:panel  header="Category catalog">                    
                    <h:panelGrid columns="4" cellpadding="5px" id="panelCategory">
                        <p:outputLabel for="nameCate" value="Name:" />
                        <p:inputText id="nameCate" required="true" maxlength="20" value="#{catalogsBean.categoriaSelected.categoria}" immediate="true"/>

                        <p:outputLabel for="nameEsCate" value="Name(ES):" />
                        <p:inputText id="nameEsCate" required="true" maxlength="20" value="#{catalogsBean.categoriaSelected.categoriaEsp}" immediate="true"/>

                        <p:outputLabel for="idGroupCate" value="Group category:" />
                        <p:selectOneMenu id="idGroupCate" value="#{catalogsBean.categoriaSelected.fkGrupoCategoria}" converter="groupCategoryConverter" required="true" label="Grupo de categoria" immediate="true">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{catalogsBean.catGrupoCategorias}"/>                           
                        </p:selectOneMenu>

                        <p:outputLabel for="idStatusCate" value="Status:" />
                        <p:selectOneRadio id="idStatusCate" layout="pageDirection" required="true" value="#{catalogsBean.categoriaSelected.status}">
                            <f:selectItem itemLabel="Enable" itemValue="true" />
                            <f:selectItem itemLabel="Disable" itemValue="false" />                            
                        </p:selectOneRadio>

                        <f:facet name="footer">
                            <h:panelGrid columns="2" cellspacing="10px">
                                <p:commandButton value="Save" update="formCategory" actionListener="#{catalogsBean.saveCategory}"/>
                                <p:commandButton value="New" update="formCategory" actionListener="#{catalogsBean.newCategory}" rendered="#{catalogsBean.categoriaSelected.pkCategoria ne null ? true : false}"/>                            
                            </h:panelGrid>                            
                        </f:facet>
                    </h:panelGrid>
                    <p:separator/>
                    <h:panelGrid columns="1">
                        <p:dataTable id="tableCate" var="category" value="#{catalogsBean.catCategorias}" rowKey="#{category.pkCategoria}" selection="#{catalogsBean.categoriaSelectedTable}" selectionMode="single" paginator="true" rows="10">
                            <p:column headerText="Name">
                                <h:outputText value="#{category.categoria}" />
                            </p:column>                            
                            <p:column headerText="Name(ES)">
                                <h:outputText value="#{category.categoriaEsp}"/>
                            </p:column>                            
                            <p:column headerText="Group category">
                                <h:outputText value="#{category.fkGrupoCategoria.grupoCategoria}"/>
                            </p:column>  
                            <p:column headerText="Status">
                                <h:outputText value="#{category.status ? 'ENABLED' : 'DISABLED'}"/>
                            </p:column>  
                            <p:ajax event="rowSelect" update=":formCategory:panelCategory" listener="#{catalogsBean.selectCategory}"/>
                        </p:dataTable>
                    </h:panelGrid>
                </p:panel>
            </h:form>             
            <h:form id="formManufacturer" rendered="#{mainBean.catalog eq 'manufacturer' ? true : false}">
                <p:growl id="msgsManufac" showDetail="true"/>
                <p:messages showDetail="true" closable="true"/>
                <p:panel  header="Manufacturer catalog" id="panelManufac">                    
                    <h:panelGrid columns="2" cellpadding="5px" >
                        <p:outputLabel for="nameManuf" value="Name:" />
                        <p:inputText id="nameManuf" required="true" maxlength="20" value="#{catalogsBean.fabricanteNew.fabricante}"/>

                        <p:outputLabel for="idStatusManuf" value="Status:" />
                        <p:selectOneRadio id="idStatusManuf" layout="pageDirection" required="true" value="#{catalogsBean.fabricanteNew.status}">
                            <f:selectItem itemLabel="Enable" itemValue="true" />
                            <f:selectItem itemLabel="Disable" itemValue="false" />                            
                        </p:selectOneRadio>
                        
                        <f:facet name="footer">
                            <h:panelGrid columns="2" cellspacing="10px">
                                <p:commandButton value="Save" update="formManufacturer" actionListener="#{catalogsBean.saveManufacturer}"/>
                                <p:commandButton value="New" update="formManufacturer" actionListener="#{catalogsBean.newManufacturer}" rendered="#{catalogsBean.fabricanteNew.pkFabricante ne null ? true : false}"/>                            
                            </h:panelGrid>
                        </f:facet>
                    </h:panelGrid>
                    <p:separator/>
                    <h:panelGrid columns="1">
                        <p:dataTable id="tableManuf" var="manufacturerT" value="#{catalogsBean.catFabricanteAll}" rowKey="#{manufacturerT.pkFabricante}" selection="#{catalogsBean.fabricanteSelectedTable}" selectionMode="single" paginator="true" rows="10">
                            <p:column headerText="Name">
                                <h:outputText value="#{manufacturerT.fabricante}"/>
                            </p:column>                            
                            <p:column headerText="Status">
                                <h:outputText value="#{manufacturerT.status ? 'ENABLED' : 'DISABLED'}"/>
                            </p:column> 
                            <p:ajax event="rowSelect" update=":formManufacturer:panelManufac" listener="#{catalogsBean.selectManufacturer}"/>
                        </p:dataTable>
                    </h:panelGrid>
                </p:panel>
            </h:form>             
        </ui:composition>
    </h:body>
</html>

